(()=>{"use strict";var __webpack_modules__={222:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>LocalStrage});class LocalStrage{static set(e,t){window.sessionStorage.setItem(e,JSON.stringify(t))}static get(objName){const obj=window.sessionStorage.getItem(objName);if(!this.check(objName))return!1;if(null===obj)throw new Error("���m�̃G���[");const parser=function(_k,v){return 0===v.toString().indexOf("function")?eval("("+v+")"):v};return JSON.parse(obj,parser)}static check(e){return!!window.sessionStorage.getItem(e)}static delete(){window.sessionStorage.clear()}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{class e{constructor(){this.setBodyPadding=()=>{const e=document.querySelector(".navbar");e&&(document.body.style.paddingTop=e.offsetHeight+"px")},this.setBodyPadding(),window.addEventListener("resize",this.setBodyPadding)}}class t{constructor(){this.SetCounter=()=>{Array.from(document.getElementsByClassName("counter")).forEach((e=>{const t=e;if(!t)return;const r=t.querySelector(".counter_increment"),s=t.querySelector(".counter_decrement"),n=t.querySelector(".counter_number"),o=parseInt(t.max)||100,c=parseInt(t.min)||0;let i,a=1;function d(e){let t=parseInt(n.value)||0;t+=e,t=Math.max(c,Math.min(o,t)),n.value=String(t)}function u(e,t){e.addEventListener("mousedown",(function(){a=1,d(t),i=setTimeout((function e(){a=5,d(t*a),i=setTimeout(e,200)}),500)})),e.addEventListener("mouseup",(function(){clearTimeout(i)})),e.addEventListener("mouseleave",(function(){clearTimeout(i)})),e.addEventListener("touchend",(function(){clearTimeout(i)}))}u(r,1),u(s,-1)}))}}}var r=__webpack_require__(222);class s{constructor(){this.send=async(e,t,r,s,n="json",o=!0)=>{let c;c="GET"==t?new Request(e,{method:t,headers:r}):new Request(e,{method:t,headers:r,body:JSON.stringify(s)});const i=await fetch(c).catch((e=>{throw e}));if(!i.ok)throw new Error(i.statusText);if(o)switch(n){case"json":return await this.fetchResonse(i.json()).catch((e=>{throw e}));case"text":return await this.fetchResonse(i.text()).catch((e=>{throw e}))}}}async fetchResonse(e){return await e.then((e=>e)).catch((e=>{throw console.log(e),e}))}}class n{constructor(){this.setOrderList=()=>{const s=new t;let n=[];r.c.check("OrderEntityList")&&(n=r.c.get("OrderEntityList"));let o=0;this.send(n).then((t=>{document.getElementById("order_list").innerHTML=t,document.getElementById("pon_coins").innerText=o.toString(),document.getElementById("pon_coins_input").value=o.toString(),s.SetCounter(),new e})),n.forEach((e=>{o+=e.OrderCoins}))},this.send=async e=>{const t=new s;return await t.send(this.url,this.method,this.headers,e,this.responseKind).then((async e=>e)).catch((e=>{throw e}))},this.url="/Pos/OrderListContents",this.method="POST",this.headers={"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},this.responseKind="text"}}class o{constructor(e,t,r,s=0){this.ResultId=e,this.OrderNumber=t,this.OrderCoins=r,this.AlcoholAmount=s}}class c{constructor(){this.setOrderList=()=>{document.getElementById("send_order")?.addEventListener("click",(async()=>{const e=Array.from(document.getElementsByClassName("order"));let t=[];if(e.length>0){Array.from(document.getElementsByClassName("order")).forEach((e=>{t.push(new o(parseInt(e.dataset.result_id),parseInt(e.querySelector(".order_number").value),parseInt(e.querySelector(".order_coins").value),parseInt(e.querySelector(".alcohol_amount").value)))}));const e=t.map((e=>({ResultId:e.ResultId,OrderNumber:e.OrderNumber,OrderCoins:e.OrderCoins,AlcoholAmount:e.AlcoholAmount}))).filter((e=>0!=e.OrderNumber));this.send(e).then((e=>{const t=JSON.parse(e);"200"==t.status&&(r.c.delete(),document.getElementById("order_list").innerHTML="",document.getElementById("pon_coins").innerText="0",document.getElementById("pon_coins_input").value="0"),window.alert(t.message)}))}}))},this.send=async e=>{const t=new s;return await t.send(this.url,this.method,this.headers,e,this.responseKind).then((async e=>e)).catch((e=>{throw e}))},this.url="/Pos/SendOrder",this.method="POST",this.headers={"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},this.responseKind="text"}}(async()=>{const e=new n,t=new c;e.setOrderList(),t.setOrderList()})()})()})();